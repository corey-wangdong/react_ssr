# React 服务端渲染

## 服务端渲染 （server side render

服务端渲染就是在浏览器请求页面 URL 的时候，服务端将我们需要的 HTML 文本组装好，然后返回给浏览器， 这个HTML 文本被浏览器解析之后， 不需要经过 js 脚本执行，直接构建出我们希望的 DOM 树并展示到页面中。 那这个 服务端组装 HTML 的过程我们就叫服务端渲染。

也就是由服务端完成页面的 HTML 结构拼接，发送给浏览器，然后再绑定状态和事件，使其成为可交互页面的过程就是服务端渲染。


## 服务端渲染的由来 （大概有三个阶段）
- 第一阶段

前端和服务端在一个项目来维护，用户访问一个页面a的时候, 会直接访问服务端路由, 由服务端来渲染页面然后返回给浏览器
网页的所有内容都会一次性被写在html里, 一起送给浏览器。

缺点：不好维护，不利于协同工作，耦合太严重， 严重影响开发效率和体验。

- 第二阶段

随着框架的出现（react vue...）的出现，出现了纯客户端渲染的SPA,

浏览器请求URL，前端服务器直接返回一个空的静态HTML文件（不需要任何查数据库和模板组装），这个HTML文件中加载了很多渲染页面需要的 JavaScript 脚本和 CSS 样式表，浏览器拿到 HTML 文件后开始加载脚本和样式表，并且执行脚本，这个时候脚本请求后端服务提供的API，获取数据，获取完成后将数据通过JavaScript脚本动态的将数据渲染到页面中，完成页面显示.

- 第三阶段

纯 SPA 对 SEO 不友好，并且会造成白屏时间过长，又重新开始考虑服务端渲染，但通过新的模式---同构来达到服务端渲染的效果。

同构：就是同种结构的不同表现形式，即一份代码在服务端和客户端各执行一次


## 服务端渲染主要解决的问题

1、 利于 SEO 优化，搜索引擎爬虫抓取工具可以直接查看完全渲染的页面
2、加速首屏加载，解决首屏白屏的问题

## 实现 SSR 的两种方式
1、手动实现 SSR 框架
2、使用成熟的 SSR 框架，如 next.js
https://nextjs.frontendx.cn/

